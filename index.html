<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body class="bg-gray-900 text-white font-sans">

    <!-- Header -->
    <header class="relative bg-gray-800 border-b border-gray-700 p-4 overflow-hidden">
        <div class="absolute inset-0 z-0">
            <img src="imgs/Stockmkt.avif" alt="Financial background" class="w-full h-full object-cover opacity-10">
        </div>
        <div class="container mx-auto flex justify-between items-center relative z-10">
            <h1 class="text-2xl font-bold">Financial Report</h1>
            <div class="flex items-center space-x-4">
                <div class="text-sm text-gray-400">
                    <span>Last updated: January 27, 2026</span>
                </div>
                <button id="lang-toggle" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
                    中文
                </button>
            </div>
        </div>
    </header>

    <!-- Marquee -->
    <div class="bg-gray-800 py-2 border-b border-gray-700 overflow-hidden">
        <div class="marquee-content flex space-x-8 animate-marquee">
            <!-- Market data will be injected here by JavaScript -->
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto p-4">
        <!-- Market Overview -->
        <section id="market-overview" class="mb-8">
            <h2 class="text-3xl font-bold mb-4">Market Overview</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4">
                <!-- Market data cards will be injected here -->
            </div>
        </section>

        <!-- News & Analysis -->
        <section id="news" class="mb-8">
            <h2 class="text-3xl font-bold mb-4">News & Analysis</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- News articles will be injected here -->
            </div>
        </section>

        <!-- IPO & M&A -->
        <section id="deals">
            <h2 class="text-3xl font-bold mb-4">Recent IPOs & M&A</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-2xl font-semibold mb-3">Recent & Upcoming IPOs</h3>
                    <ul id="ipo-list" class="space-y-4">
                        <!-- IPO items will be injected here -->
                    </ul>
                </div>
                <div>
                    <h3 class="text-2xl font-semibold mb-3">M&A Activity</h3>
                    <ul id="ma-list" class="space-y-4">
                        <!-- M&A items will be injected here -->
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <style>
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .animate-marquee {
            animation: marquee 30s linear infinite;
            display: flex;
            width: 200%;
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            let currentLang = 'en';

            const translations = {
                en: {
                    title: "Financial Report",
                    financialReport: "Financial Report",
                    lastUpdated: "Last updated",
                    marketOverview: "Market Overview",
                    newsAnalysis: "News & Analysis",
                    recentIPOsMA: "Recent IPOs & M&A",
                    recentUpcomingIPOs: "Recent & Upcoming IPOs",
                    maActivity: "M&A Activity",
                    source: "Source",
                    langToggle: "中文"
                },
                zh: {
                    title: "每日财经新闻",
                    financialReport: "财务报告",
                    lastUpdated: "最后更新",
                    marketOverview: "市场概览",
                    newsAnalysis: "新闻与分析",
                    recentIPOsMA: "近期IPO与并购",
                    recentUpcomingIPOs: "近期及即将进行的IPO",
                    maActivity: "并购活动",
                    source: "来源",
                    langToggle: "English"
                }
            };

            let marketData = [];

            function fetchMarketData() {
                const translationsMap = {
                    '^GSPC': { name: '标准普尔500指数', reasons: ['科技板块表现强劲。', '尽管市场波动，但势头良好。'] },
                    '^IXIC': { name: '纳斯达克指数', reasons: ['英伟达等AI相关股票带动上涨。', '科技行业整体看涨情绪。'] },
                    'JPY=X': { name: '美元/日元', reasons: ['日本政局不稳导致日元走强。', '不确定性中投资者寻求日元避险。'] },
                    'CNY=X': { name: '美元/人民币', reasons: ['对美联储独立性的担忧导致美元走弱。', '小幅上涨表明市场情绪复杂。'] },
                    'SGDCNY=X': { name: '新元/人民币', reasons: ['区域经济数据影响货币对。', '更广泛的市场趋势影响新兴市场货币。'] },
                    '^FVX': { name: '2年期美国国债', reasons: ['投资者寻求避险资产导致收益率下降。', '地缘政治紧张局势增加了对短期债券的需求。'] },
                    '^TNX': { name: '10年期美国国债', reasons: ['全球不确定性下的避险需求。', '对欧美地缘政治事件的担忧。'] },
                    'BZ=F': { name: '布伦特原油', reasons: ['伊朗供应中断的担忧已计入价格。', '委内瑞拉增加供应的前景使价格回落。'] },
                    'GC=F': { name: '黄金', reasons: ['地缘政治紧张局势推动金价创下历史新高。', '美元走弱以及资金从美国国债流出。'] },
                    'SI=F': { name: '白银', reasons: ['作为避险资产，与黄金一同飙升。', '市场不确定性中投资者需求强劲。'] }
                };

                const enNamesMap = {
                    '^GSPC': 'S&P 500',
                    '^IXIC': 'Nasdaq',
                    'JPY=X': 'USD/JPY',
                    'CNY=X': 'USD/CNY',
                    'SGDCNY=X': 'SGD/CNY',
                    '^FVX': '2Y UST',
                    '^TNX': '10Y UST',
                    'BZ=F': 'Brent',
                    'GC=F': 'Gold',
                    'SI=F': 'Silver'
                };

                const enReasonsMap = {
                    '^GSPC': ['Tech sector showing strong performance.', 'Good momentum despite market volatility.'],
                    '^IXIC': ['Boosted by AI-related stocks like Nvidia.', 'Overall bullish sentiment in the tech industry.'],
                    'JPY=X': ['Yen strengthened due to political instability in Japan.', 'Investors seeking safe haven in yen amid uncertainty.'],
                    'CNY=X': ['Dollar weakened on concerns about Fed independence.', 'Slight gain indicates mixed market sentiment.'],
                    'SGDCNY=X': ['Regional economic data influencing the currency pair.', 'Broader market trends affecting emerging market currencies.'],
                    '^FVX': ['Yields dropped as investors sought safe-haven assets.', 'Geopolitical tensions increased demand for short-term bonds.'],
                    '^TNX': ['Safe-haven demand amid global uncertainty.', 'Concerns over geopolitical events in Europe and the US.'],
                    'BZ=F': ['Concerns about supply disruptions from Iran priced in.', 'Prices eased on prospects of increased supply from Venezuela.'],
                    'GC=F': ['Geopolitical tensions pushed gold to record highs.', 'Weakening dollar and flight from US Treasuries.'],
                    'SI=F': ['Surged along with gold as a safe-haven asset.', 'Strong investor demand amid market uncertainty.']
                };

                return fetch('market_data.json')
                    .then(response => response.json())
                    .then(data => {
                        marketData = data.map(item => {
                            const symbol = item.symbol;
                            const enName = enNamesMap[symbol] || item.en.name || symbol;
                            const zhTranslation = translationsMap[symbol] || { name: enName, reasons: [] };
                            const enReasons = enReasonsMap[symbol] || [];

                            return {
                                ...item,
                                en: { name: enName, reasons: enReasons },
                                zh: { name: zhTranslation.name, reasons: zhTranslation.reasons }
                            };
                        });
                        renderMarketOverviewAndCharts();
                        updateContent();
                    })
                    .catch(error => console.error('Error fetching market data:', error));
            }

            const newsData = [
                {
                    en: { title: "Wall Street Edges Higher in a Wobbly Start to 2026", summary: "U.S. stocks mostly edged higher on Wall Street in a wobbly start to the new year. The S&P 500 rose 0.2%, while the Dow Jones Industrial Average rose 0.7%. The Nasdaq composite fell less than 0.1%." },
                    zh: { title: "华尔街在2026年开局不稳的情况下小幅走高", summary: "美国股市在新年伊始涨跌互现。标准普尔500指数上涨0.2%，道琼斯工业平均指数上涨0.7%。纳斯达克综合指数下跌不到0.1%。" },
                    source: "AP News",
                    sourceUrl: "https://www.usnews.com/news/business/articles/2026-01-01/shares-are-higher-in-asia-in-an-upbeat-start-to-the-new-year"
                },
                {
                    en: { title: "S&P, Nasdaq futures slide to one-month lows on Greenland concerns", summary: "All three major Wall Street indexes ended Tuesday with their biggest one-day drops in three months, in a broad selloff triggered by concerns that fresh tariff threats from President Donald Trump against Europe could signal renewed market volatility." },
                    zh: { title: "对格陵兰的担忧导致标普和纳斯达克期货跌至一个月低点", summary: "华尔街三大股指周二均创下三个月来最大单日跌幅，因市场担心美国总统唐纳德·特朗普对欧洲发出新的关税威胁可能预示着市场将再现动荡。" },
                    source: "Reuters",
                    sourceUrl: "https://www.reuters.com/business/sp-nasdaq-futures-slide-one-month-lows-greenland-concerns-2026-01-20/"
                },
                {
                    en: { title: "Stocks and Treasuries calm after Fed indictment jitters, dollar weakens", summary: "Wall Street stock indexes and U.S. government bonds steadied on Monday as traders digested the Trump administration's threat to indict the Federal Reserve, although renewed questions about the independence of the world's most influential central bank weighed on the dollar and boosted gold." },
                    zh: { title: "美联储遭起诉引发市场紧张情绪后，股市和国债趋于平稳，美元走弱", summary: "周一，华尔街股指和美国国债趋于稳定，交易员正在消化特朗普政府威胁起诉美联储的消息，但对这家全球最具影响力的央行独立性的再次质疑令美元承压，并提振了金价。" },
                    source: "Reuters",
                    sourceUrl: "https://www.reuters.com/business/finance/global-markets-global-markets-2026-01-12/"
                }
            ];

            const ipoData = [
                { en: { company: "SpaceX", status: "Upcoming", details: "SpaceX is preparing for a possible public offering in 2026 to fund its Starship rocket, AI data centers in space, and a moon base." }, zh: { company: "SpaceX", status: "即将进行", details: "SpaceX正准备在2026年进行可能的公开募股，以为其星际飞船火箭、太空中的人工智能数据中心和月球基地提供资金。" }, valuation: "N/A", source: "Bloomberg", sourceUrl: "https://www.interactivebrokers.com/campus/traders-insight/securities/stocks/opening-day-ten-ipos-to-watch-in-2026/" },
                { en: { company: "OpenAI", status: "Upcoming", details: "OpenAI is laying the groundwork for a potential debut in late 2026 or 2027, which could be one of the largest IPOs in market history." }, zh: { company: "OpenAI", status: "即将进行", details: "OpenAI正在为可能在2026年底或2027年进行的首次亮相奠定基础，这可能成为市场历史上最大规模的IPO之一。" }, valuation: "N/A", source: "Interactive Brokers", sourceUrl: "https://www.interactivebrokers.com/campus/traders-insight/securities/stocks/opening-day-ten-ipos-to-watch-in-2026/" },
                { en: { company: "Kraken", status: "Upcoming", details: "The U.S. crypto exchange Kraken is reportedly targeting a U.S. stock market debut as early as the first quarter of 2026." }, zh: { company: "Kraken", status: "即将进行", details: "据报道，美国加密货币交易所Kraken的目标最早在2026年第一季度在美国股市首次亮相。" }, valuation: "$15B", source: "Interactive Brokers", sourceUrl: "https://www.interactivebrokers.com/campus/traders-insight/securities/stocks/opening-day-ten-ipos-to-watch-in-2026/" },
                { en: { company: "Canva", status: "Upcoming", details: "Canva's co-founder and COO indicated in November 2025 that an IPO is 'probably imminent' and likely to happen within the 'next couple of years'." }, zh: { company: "Canva", status: "即将进行", details: "Canva的联合创始人兼首席运营官在2025年11月表示，IPO“可能即将到来”，并可能在“未来几年内”发生。" }, valuation: "N/A", source: "Interactive Brokers", sourceUrl: "https://www.interactivebrokers.com/campus/traders-insight/securities/stocks/opening-day-ten-ipos-to-watch-in-2026/" }
            ];

            const maData = [
                { en: { deal: "Global M&A volumes hit USD 3 trillion in 2025", status: "Completed", details: "Global M&A volumes hit USD 3 trillion, up 33% year on year with 45 mega deals over USD 10 billion." }, zh: { deal: "2025年全球并购交易额达3万亿美元", status: "已完成", details: "全球并购交易额达到3万亿美元，同比增长33%，其中有45笔超过100亿美元的大型交易。" }, value: "$3T", source: "Baker McKenzie", sourceUrl: "https://www.bakermckenzie.com/en/insight/publications/2026/01/ma-reawakes-more-complex-2026" },
                { en: { deal: "M&A lawyers see 'bulging pipeline' for 2026", status: "Outlook", details: "Dealmakers at top firms told Reuters they expect this year to be at least as busy as 2025." }, zh: { deal: "并购律师预计2026年将有“大量交易”", status: "展望", details: "顶级公司的交易撮合者告诉路透社，他们预计今年的业务至少会和2025年一样繁忙。" }, value: "N/A", source: "Reuters", sourceUrl: "https://www.reuters.com/legal/transactional/ma-lawyers-see-bulging-pipeline-2026-after-deal-crazed-year-2026-01-07/" },
                { en: { deal: "Lazard expects multiple drivers to sustain elevated deal value in 2026", status: "Outlook", details: "Rising strategic ambition among large corporates, potential monetization of long-held private equity assets, and continuity in the regulatory environment are expected to sustain elevated deal value." }, zh: { deal: "Lazard预计多种驱动因素将维持2026年较高的交易额", status: "展望", details: "大型企业日益增长的战略雄心、长期持有的私募股权资产的潜在货币化以及监管环境的连续性，预计将维持较高的交易额。" }, value: "N/A", source: "Lazard", sourceUrl: "https://www.lazard.com/research-insights/lazard-2025-ma-review-and-2026-outlook/" }
            ];

            function getColor(change) {
                if (change.startsWith('+')) return 'text-green-500';
                if (change.startsWith('-')) return 'text-red-500';
                return 'text-gray-400';
            }

            function getChartColor(change) {
                if (change.startsWith('+')) return '#22c55e'; // green-500
                if (change.startsWith('-')) return '#ef4444'; // red-500
                return '#9ca3af'; // gray-400
            }

            function renderMarketOverviewAndCharts() {
                const marketOverview = document.querySelector('#market-overview .grid');
                marketOverview.innerHTML = marketData.map((item, index) => `
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h3 class="font-bold text-lg"></h3>
                        <p class="text-2xl font-semibold">${item.price}</p>
                        <p class="text-lg ${getColor(item.changePercent)}">${item.change} (${item.changePercent})</p>
                        <div id="chart-${index}" class="mt-2"></div>
                        <ul class="mt-3 text-sm text-gray-400 space-y-1"></ul>
                    </div>
                `).join('');

                marketData.forEach((item, index) => {
                    const options = {
                        chart: { type: 'area', height: 50, sparkline: { enabled: true } },
                        series: [{ data: item.sparkline }],
                        stroke: { curve: 'smooth', width: 2 },
                        colors: [getChartColor(item.changePercent)],
                        fill: {
                            type: 'gradient',
                            gradient: {
                                shadeIntensity: 1,
                                opacityFrom: 0.7,
                                opacityTo: 0.3,
                                stops: [0, 90, 100]
                            }
                        },
                        tooltip: { enabled: false }
                    };
                    const chart = new ApexCharts(document.querySelector(`#chart-${index}`), options);
                    chart.render();
                });
            }

            function updateContent() {
                const t = translations[currentLang];
                document.title = t.title;

                // Update header
                document.querySelector('h1').textContent = t.financialReport;
                const now = new Date();
                const timeString = now.toTimeString().split(' ')[0];
                document.querySelector('.text-sm.text-gray-400 span').textContent = `${t.lastUpdated}: January 26, 2026 ${timeString}`;
                document.getElementById('lang-toggle').textContent = t.langToggle;

                // Update section titles
                document.querySelector('#market-overview h2').textContent = t.marketOverview;
                document.querySelector('#news h2').textContent = t.newsAnalysis;
                document.querySelector('#deals h2').textContent = t.recentIPOsMA;
                document.querySelector('#deals h3:first-of-type').textContent = t.recentUpcomingIPOs;
                document.querySelector('#deals h3:last-of-type').textContent = t.maActivity;

                // Update Market Overview text
                document.querySelectorAll('#market-overview .grid > div').forEach((card, index) => {
                    const item = marketData[index];
                    card.querySelector('h3').textContent = item[currentLang].name;
                    card.querySelector('ul').innerHTML = item[currentLang].reasons.map(reason => `<li>- ${reason}</li>`).join('');
                });

                // Populate Marquee
                const marqueeContent = document.querySelector('.marquee-content');
                const marqueeItems = [...marketData, ...marketData]; // Duplicate for seamless loop
                marqueeContent.innerHTML = marqueeItems.map(item => `
                    <div class="flex items-center space-x-4">
                        <span class="font-semibold"><span class="text-nowrap">${item[currentLang].name}</span></span>
                        <span class="${getColor(item.change)}">${item.price}</span>
                        <span class="${getColor(item.change)}">${item.change}</span>
                    </div>
                `).join('');

                // Populate News
                const newsContainer = document.querySelector('#news .grid');
                newsContainer.innerHTML = newsData.map(item => `
                    <article class="bg-gray-800 p-4 rounded-lg flex flex-col h-full">
                        <h3 class="font-bold text-xl mb-2">${item[currentLang].title}</h3>
                        <p class="text-gray-400 flex-grow">${item[currentLang].summary}</p>
                        <a href="${item.sourceUrl}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline mt-2 self-start">${t.source}: ${item.source}</a>
                    </article>
                `).join('');

                // Populate IPOs
                const ipoList = document.getElementById('ipo-list');
                ipoList.innerHTML = ipoData.map(item => `
                    <li class="bg-gray-800 p-3 rounded-lg">
                        <p class="font-semibold">${item[currentLang].company} - ${item.valuation} (${item[currentLang].status})</p>
                        <p class="text-sm text-gray-400">${item[currentLang].details}</p>
                        <a href="${item.sourceUrl}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline text-xs mt-1">${t.source}: ${item.source}</a>
                    </li>
                `).join('');

                // Populate M&A
                const maList = document.getElementById('ma-list');
                maList.innerHTML = maData.map(item => `
                    <li class="bg-gray-800 p-3 rounded-lg">
                        <p class="font-semibold">${item[currentLang].deal} - ${item.value} (${item[currentLang].status})</p>
                        <p class="text-sm text-gray-400">${item[currentLang].details}</p>
                        <a href="${item.sourceUrl}" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline text-xs mt-1">${t.source}: ${item.source}</a>
                    </li>
                `).join('');
            }

            document.getElementById('lang-toggle').addEventListener('click', function() {
                currentLang = currentLang === 'en' ? 'zh' : 'en';
                updateContent();
            });

            // Initial render
            fetchMarketData();
        });
    </script>

</body>
</html>
